FROM node:alpine

ARG FOUNDRY_RELEASE_URL

WORKDIR $HOME/foundrydata
WORKDIR $HOME/foundryvtt

RUN apk add --no-cache wget unzip && \
	wget -O foundryvtt.zip "${FOUNDRY_RELEASE_URL}"
	
RUN unzip foundryvtt.zip  && \
	node resources/app/main.js --dataPath=$HOME/foundrydata
	
VOLUME ["/data"]

EXPOSE 80/TCP
EXPOSE 443/TCP